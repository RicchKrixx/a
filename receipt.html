<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Order Receipt | BizMAX</title>
  <style>
    body{margin:0;padding:20px;background:lightblue;font-family:Arial,Helvetica,sans-serif}
    .wrapper{
      max-width:750px;margin:auto;background:rgba(255,255,255,0.1);
      backdrop-filter:blur(15px);border-radius:22px;padding:32px;
      box-shadow:0 0 20px rgba(0,0,0,0.25);color:#000;
    }
    h1{text-align:center;margin:0 0 6px}
    h3{text-align:center;margin:0 0 20px;font-weight:600}
    table{width:100%;border-collapse:collapse;margin-top:10px}
    th,td{padding:12px;border-bottom:1px solid rgba(0,0,0,0.15)}
    th{background:#1976d2;color:#fff;text-align:left}
    .total{font-weight:bold;text-align:right;margin-top:18px;font-size:18px}
    a.back{display:block;margin:26px auto 0;padding:10px 24px;
      background:cyan;color:#000;border-radius:22px;font-weight:bold;
      width:max-content;text-decoration:none}
    a.back:hover{background:#00bcbc}
  </style>
</head>
<body>
  <div class="wrapper">
    <h1>üßæ Receipt</h1>
    <h3 id="oid">Order ID: ‚Äî</h3>

    <div id="custInfo"></div>

    <table>
      <thead>
        <tr><th>Item</th><th>Qty</th><th>Price</th><th>Total</th></tr>
      </thead>
      <tbody id="tbody"></tbody>
    </table>

    <p class="total">Grand Total: $<span id="gt">0.00</span></p>

    <a href="BixMax home.html" class="back">üè† Back Home</a>
  </div>

<script>
document.addEventListener('DOMContentLoaded',()=>{
  const q = new URLSearchParams(location.search);
  const orderId = q.get('orderId');
  document.getElementById('oid').textContent = 'Order ID: '+(orderId||'Unavailable');

  const orders = JSON.parse(localStorage.getItem('orders')||'{}');
  const order = orders[orderId];

  if(!order){
    document.getElementById('custInfo').innerHTML='<p>Order not found.</p>';
    return;
  }

  // customer info
  document.getElementById('custInfo').innerHTML = 
    <p><b>Name:</b> ${order.name}</p>
    <p><b>Email:</b> ${order.email}</p>
    <p><b>Phone:</b> ${order.phone}</p>
    <p><b>Address:</b> ${order.address}</p>
    <p><b>Payment:</b> ${order.method==='online'?'Paystack':'Pay on Delivery'}</p>
  ;

  // items
  let grand=0;
  order.items.forEach(it=>{
    const sub=it.qty*it.price; grand+=sub;
    document.getElementById('tbody').insertAdjacentHTML('beforeend',
      <tr>
        <td>${it.name}</td>
        <td>${it.qty}</td>
        <td>$${it.price.toFixed(2)}</td>
        <td>$${sub.toFixed(2)}</td>
      </tr>
    );
  });
  document.getElementById('gt').textContent = grand.toFixed(2);
});
</script>
</body>
</html>
