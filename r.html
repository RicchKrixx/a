<!DOCTYPE html>
<html>
<head>
  <title>FCM Test | BizMAX</title>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-messaging-compat.js"></script>
</head>
<body style="font-family: sans-serif; padding: 20px;">
  <h2>ðŸ”¥ BizMAX Notification Test</h2>
  <p id="status">Requesting permission...</p>
  <p><b>Your Token:</b></p>
  <textarea id="token" rows="6" style="width: 100%;"></textarea>

  <script>
    // Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyB0BBzQzGX6MHVSjn09VSD-JGpSwOu8EqQ",
  authDomain: "bixmax-6c24c.firebaseapp.com",
  projectId: "bixmax-6c24c",
  storageBucket: "bixmax-6c24c.appspot.com",
  messagingSenderId: "37740442541",
  appId: "1:37740442541:web:a2e2b9bb81c6a8e76c6724"
};

    firebase.initializeApp(firebaseConfig);
    const messaging = firebase.messaging();

    messaging.requestPermission()
      .then(() => messaging.getToken({ vapidKey: "BH5eMzDhRuf3e2cS3wpQlvsd7RdthC1hpmSNkIvX1bbvxhwmGVYlvy_S4zi2KS9HJEqTmLcFTXNDaTbIt1Sbaj4" }))
      .then((token) => {
        document.getElementById('token').value = token;
        document.getElementById('status').innerText = "âœ… Token retrieved. Copy and paste it into Firebase â†’ Test Device.";
        console.log("FCM Token:", token);
      })
      .catch((err) => {
        document.getElementById('status').innerText = "âŒ Permission denied or error occurred.";
        console.error("Error getting token:", err);
      });

    // Optional: Listen for foreground messages
    messaging.onMessage((payload) => {
      alert("ðŸ“¬ Notification received: " + payload.notification.title);
    });
  </script>
</body>
</html>