<!DOCTYPE html>  
<html lang="en">   
 <head>    
  <meta charset="UTF-8" />    
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>    
  <title>Fashion</title>    
  <style>    
    * { margin: 0;     
padding: 0;     
box-sizing:     
border-box;     
}    
      body {    
      font-family: Arial, sans-serif;    
      background: lightblue;    
      margin: 0;    
      padding: 0;    
}  header {  width:100%;
padding:24px;
border-radius:16px;
backdrop-filter: blur(25px);
color: white;
display: flex;
flex-direction: column;
align-items:center;
font-weight: bold;
background-size: cover;
margin-bottom: 10px;

}
.cart-icon {
position: fixed;
font-size: 35px;
text-decoration: none;
color: white;
margin-top: 10px;
right: 17px;
z-index: 999;
}

#cartCount {
position: absolute;
top: -8px;
right: -12px;
background: red;
color: white;
font-size: 14px;
font-weight: bold;
border-radius: 50%;
padding: 2px 6px;
}

section {
padding: 0;
}

.category {
margin-bottom: 40px;
}

.category a {
margin-right: 10px;
}

.cat-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 10px;
}

.cat-header h2 {
margin: 0;
}

.cat-header a {
font-size: 14px;
text-decoration: none;
font-weight: bold;
}

h3 {
color: black;
}
.products {
display: flex;
gap: 16px;
overflow-x: auto;
padding-bottom: 6px;
}
/*
.product {
padding: 5px;
border-radius: 35px;
min-width: 150px;
text-align: center;
flex-shrink: 0;
text-align: center;
background: darkcyan;
color: white;
margin: 10px auto;
font-weight: bold;
box-shadow: 0 0 10px cyan;
}

.product img {
padding: 0;
min-width: 160px;
height: 160px;
object-fit: cover;
border-radius: 30px;
}
*/
    .product {  
      padding: 5px;  
      border-radius: 35px;  
      text-align: center;  
      background: darkcyan;  
      color: white;  
      font-weight: bold;  
      box-shadow: 0 0 10px cyan;  
    }  
    .product img {  
      width: 100%;  
      height: 160px;  
      object-fit: cover;  
      border-radius: 30px;  
    }  
.product h3 {
font-size: 16px;
margin: 6px 0;
}

.product p {
font-size: 15px;
font-weight: bold;
}

.add-btn {
background: cyan;
color: white;
padding: 8px 12px;
border: none;
border-radius: 10px;
cursor: pointer;
margin-top: 8px;
font-weight: bold;
}

.add-btn:hover {
background: #008b8b;
}

/* Always glowing */
.glow {
animation: brightGlow 1.5s infinite ease-in-out;
color: cyan;
text-shadow: 0 0 5px #0ff, 0 0 10px #0ff, 0 0 15px #0ff;
}

@keyframes brightGlow {
0%, 100% {
text-shadow: 0 0 5px #0ff, 0 0 10px #0ff, 0 0 15px #0ff;
}
50% {
text-shadow: 0 0 15px #0ff, 0 0 25px #0ff, 0 0 35px #0ff;
}
}

@media (max-width: 500px) {
.products {
gap: 12px;
}
.product {
min-width: 150px;
}
}
/* Shake animation */
@keyframes shake {
0% { transform: translateX(0); }
20% { transform: translateX(-4px); }
40% { transform: translateX(4px); }
60% { transform: translateX(-4px); }
80% { transform: translateX(4px); }
100% { transform: translateX(0); }
}

.shake {
animation: shake 0.4s ease;
}
.modal {
display: none;
position: fixed;
top: 0; left: 0; right: 0; bottom: 0;
background: rgba(0,0,0,0.6);
justify-content: center;
align-items: center;
z-index: 999;
}
.modal-content {
background: white;
padding: 20px;
border-radius: 16px;
max-width: 300px;
text-align: center;
}
.modal-content select, .modal-content button {
margin: 10px 0;
padding: 10px;
width: 100%;
border-radius: 10px;
}

</style> 
 </head>  
<body> 
<a href="/cart/" class="cart-icon glow" id="cartIcon">ðŸ›’<span id="cartCount">0</span></a>   
    <header>    
            <h1>BixMAX | Fashion</h1>    
        <h3>All-in-One Online Shop</h3>    </header> 

 <div class="container">    
  <!-- Fashion Sections -->    
<div class="category">  
  <div class="cat-header">  
    <h2>Men</h2>  
    <a href="/shirts/">View All</a>
  </div>  
  <div class="products" id="shirtsContainer">
    <!-- Firebase will load .product elements here -->
  </div>  
</div>
  
  <!-- Fashion Sections -->  
<div class="category">  
  <div class="cat-header">  
    <h2>Women</h2>  
    <a href="/dresses/">View All</a>
  </div>  
  <div class="products" id="dressesContainer">
    <!-- Firebase will load .product elements here -->
  </div>  
</div>


  <div class="category">  
  <div class="cat-header">  
    <h2>Jewelries</h2>  
    <a href="/chains/">View All</a>
  </div>  
  <div class="products" id="jewelriesContainer">
    <!-- Firebase will load .product elements here -->
  </div>  
</div>

<div class="category">  
  <div class="cat-header">  
    <h3>Sneakers<span> & Other footwears</span></h3>  
    <a href="/sneakers/">View All</a>
  </div>  
  <div class="products" id="sneakersContainer">
    <!-- Firebase will load .product elements here -->
  </div>  
</div>

<div class="category">  
  <div class="cat-header">  
    <h2>Glasses</h2>  
    <a href="/glasses/">View All</a>
  </div>  
  <div class="products" id="glassesContainer">
    <!-- Firebase will load .product elements here -->
  </div>  
</div>

<div class="category">  
  <div class="cat-header">  
    <h2>Bags</h2>  
    <a href="/bags/">View All</a>
  </div>  
  <div class="products" id="bagsContainer">
    <!-- Firebase will load .product elements here -->
  </div>  
</div>
<div class="category">  
  <div class="cat-header">  
    <h2>Kids</h2>  
    <a href="/kids/">View All</a>
  </div>  
  <div class="products" id="kidsContainer">
    <!-- Firebase will load .product elements here -->
  </div>  
</div>
 </div>    
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import {
    getFirestore,
    collection,
    doc,
    onSnapshot
  } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyB0BBzQzGX6MHVSjn09VSD-JGpSwOu8EqQ",
    authDomain: "bixmax-6c24c.firebaseapp.com",
    projectId: "bixmax-6c24c",
    storageBucket: "bixmax-6c24c.appspot.com",
    messagingSenderId: "37740442541",
    appId: "1:37740442541:web:a2e2b9bb81c6a8e76c6724"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const categories = [
    { name: "Men", id: "shirtsContainer" },
    { name: "Women", id: "dressesContainer" },
    { name: "Sneakers", id: "sneakersContainer" },
    { name: "Jewelries", id: "jewelriesContainer" },
    { name: "Glasses", id: "glassesContainer" },
    { name: "Bags", id: "bagsContainer" },
    { name: "Kids", id: "kidsContainer" }
  ];

  function renderProducts(containerId, items, categoryName) {
    const container = document.getElementById(containerId);
    container.innerHTML = "";

    items.forEach(data => {
      const div = document.createElement("div");
      div.className = "product";
      div.innerHTML = `
        <img src="${data.image}" alt="${data.name}" class="product-image" />
        <div class="product-name">${data.name}</div>
        <div class="product-price">GHâ‚µ${data.price.toFixed(2)}</div>
        <button class="add-btn"
          data-id="${data.id}"
          data-name="${data.name}"
          data-price="${data.price}"
          data-image="${data.image}"
          data-category="${categoryName}"
          data-variation="${data.variation || 'none'}"
          data-sizes='${JSON.stringify(data.sizes || [])}'>
          Add to Cart
        </button>
      `;
      const img = div.querySelector(".product-image");
      img.addEventListener("click", () => handleImageClick(data, categoryName));
      container.appendChild(div);
    });

    container.querySelectorAll('.add-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const product = {
          id: btn.dataset.id,
          name: btn.dataset.name,
          price: parseFloat(btn.dataset.price),
          image: btn.dataset.image,
          category: btn.dataset.category,
          variation: btn.dataset.variation || "none",
          sizes: JSON.parse(btn.dataset.sizes || "[]")
        };
        addToCart(product);
      });
    });
  }

  function handleImageClick(data, categoryName) {
    const product = {
      id: data.id,
      name: data.name,
      price: parseFloat(data.price),
      image: data.image,
      category: categoryName,
      variation: data.variation || "none",
      sizes: data.sizes || []
    };
    addToCart(product);
    setTimeout(() => {
      window.location.href = "/cart/";
    }, 300);
  }

  function addToCart(product) {
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const index = cart.findIndex(item => item.id === product.id);
    if (index >= 0) {
      cart[index].qty += 1;
    } else {
      cart.push({ ...product, qty: 1 });
    }
    localStorage.setItem("cart", JSON.stringify(cart));
    updateCartCount();
    animateCart();
  }

  function updateCartCount() {
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const count = cart.reduce((sum, item) => sum + item.qty, 0);
    document.getElementById("cartCount").textContent = count;
  }

  function animateCart() {
    const cartIcon = document.querySelector(".cart-icon");
    cartIcon.classList.add("shake");
    setTimeout(() => cartIcon.classList.remove("shake"), 500);
  }

  // Initial load + real-time updates
  categories.forEach(({ name, id }) => {
    const cached = localStorage.getItem(`fashion-${name}`);
    if (cached) {
      try {
        const items = JSON.parse(cached);
        renderProducts(id, items, name);
      } catch (e) {
        console.warn(`Error parsing cache for ${name}:`, e);
      }
    }

    const colRef = collection(db, "fashion", name, "items");
    onSnapshot(colRef, snapshot => {
      const items = [];
      snapshot.forEach(doc => {
        const data = doc.data();
        items.push({
          ...data,
          id: doc.id,
          variation: data.variation || "none",
          sizes: data.sizes || []
        });
      });
      localStorage.setItem(`fashion-${name}`, JSON.stringify(items));
      renderProducts(id, items, name);
    });
  });

  updateCartCount();
</script>
</body>
<footer style="
  position: absolute;
  background: #0f172a;
  color: #fff;
  padding: 1.5rem 1rem;
  text-align: center;
  font-family: 'Segoe UI', sans-serif;
  font-size: 0.9rem;
  box-shadow: 0 -2px 6px rgba(0,0,0,0.2);
  border-top: 1px solid #1e293b;
 margin-bottom: 0;
">
  <nav style="margin-bottom: 0.7rem;">
    <a href="/BixMax home/" style="color: #38bdf8; margin: 0 10px; text-decoration: none;">Home</a>
    <a href="/BixMax fashion/" style="color: #38bdf8; margin: 0 10px; text-decoration: none;">Fashion</a>
    <a href="/BixMax grocery/" style="color: #38bdf8; margin: 0 10px; text-decoration: none;">Grocery</a>
    <a href="/BixMax electronics/" style="color: #38bdf8; margin: 0 10px; text-decoration: none;">Electronics</a>
    <a href="/about us/#support" style="color: #38bdf8; margin: 0 10px; text-decoration: none;">Contact</a>
  </nav>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
  .socials {
    display: flex;
    gap: 8px;
    padding: 1rem;
    justify-content: center;
  }

  .socials a {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    color: white;
    font-size: 15px;
    text-decoration: none;
    transition: all 0.3s ease;
    position: relative;
    box-shadow: 0 4px 6px rgba(0,0,0,0.15);
  }

  .socials a:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 12px rgba(0,0,0,0.25);
  }

  .facebook { background: #3b5998; }
  .instagram { background: #e1306c; }
  .tiktok { background: #000; }
  .x { background: #1da1f2; }
  .whatsapp { background: #00b489; }

  /* Optional Tooltip */
  .socials a::after {
    content: attr(data-label);
    position: absolute;
    bottom: -30px;
    background: #333;
    color: #fff;
    padding: 4px 8px;
    font-size: 12px;
    border-radius: 4px;
    opacity: 0;
    transform: translateY(5px);
    pointer-events: none;
    transition: all 0.3s ease;
    white-space: nowrap;
  }

  .socials a:hover::after {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<div class="socials">
  <a href="https://www.facebook.com/share/19dfn17s9G/" class="facebook" class="facebook" data-label="Facebook"><i class="fab fa-facebook-f"></i></a>
  <a href="https://www.instagram.com/bixmax_store?igsh=d29xMTBlcTZ4N3I3" class="instagram" data-label="Instagram"><i class="fab fa-instagram"></i></a>
  <a href="https://www.tiktok.com/@bixmaxgh?_t=ZM-8yce1U7b0kQ&_r=1" class="tiktok" data-label="TikTok"><i class="fab fa-tiktok"></i></a>
  <a href="#" class="x" data-label="X (Twitter)"><i class="fab fa-x-twitter"></i></a>
 <a href="https://wa.me/233536345825?text=Hello%20BixMAX%2C%20I%20need%20assistance" class="whatsapp" data-label="Whatsapp"><i class="fab fa-whatsapp"></i></a>
</div>
  <p style="color: #cbd5e1; font-size: 0.85rem;">
    Â© 2025 BixMAX. All rights reserved.
  </p>
</footer>
</html>
