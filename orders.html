<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BizMAX | Orders</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f9ff;
      margin: 0;
      padding: 1rem;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #007acc;
    }
    .order {
      background: #fff;
      border-radius: 10px;
      padding: 1rem;
      margin: 1rem 0;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    .order-id {
      font-weight: bold;
      color: #007acc;
    }
    .order-info {
      margin-top: 0.5rem;
      line-height: 1.5;
    }
    .order-status {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: green;
    }
  </style>
</head>
<body>
  <h1>ðŸ“¦ BizMAX Orders</h1>
  <div id="ordersContainer">Loading orders...</div>

  <script type="module">
    // Firebase setup
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    // Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyB0BBzQzGX6MHVSjn09VSD-JGpSwOu8EqQ",
  authDomain: "bixmax-6c24c.firebaseapp.com",
  projectId: "bixmax-6c24c",
  storageBucket: "bixmax-6c24c.appspot.com",
  messagingSenderId: "37740442541",
  appId: "1:37740442541:web:a2e2b9bb81c6a8e76c6724"
};

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const ordersContainer = document.getElementById("ordersContainer");

    async function loadOrders() {
      try {
        const querySnapshot = await getDocs(collection(db, "orders"));
        if (querySnapshot.empty) {
          ordersContainer.innerHTML = "<p>No orders found.</p>";
          return;
        }

        ordersContainer.innerHTML = "";
        querySnapshot.forEach(doc => {
          const order = doc.data();
          ordersContainer.innerHTML += `
            <div class="order">
              <div class="order-id">Order ID: ${doc.id}</div>
              <div class="order-info">
                <strong>Name:</strong> ${order.name}<br>
                <strong>Email:</strong> ${order.email}<br>
                <strong>Phone:</strong> ${order.phone}<br>
                <strong>Items:</strong> ${order.items || "N/A"}<br>
                <strong>Total:</strong> â‚µ${order.total || 0}<br>
                <strong>Payment:</strong> ${order.payment || "Unknown"}
              </div>
              <div class="order-status">ðŸŸ¢ ${order.status || "Pending"}</div>
            </div>
          `;
        });
      } catch (error) {
        ordersContainer.innerHTML = "<p>Error fetching orders.</p>";
        console.error("Error:", error);
      }
    }

    loadOrders();
  </script>
</body>
</html>